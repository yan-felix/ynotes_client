"use client";

import Logo from "../logo/Logo";
import LogoutButton from "../logout_button/LogoutButton";
import { useRouter, usePathname  } from "next/navigation";

type Props = {
    mobleNavOpen: boolean;
    page_title: string;
    children: React.ReactNode;
};

export default function Header(props: Props){
    const router = useRouter();
    const pathname = usePathname();
    const urlParts = pathname.split('/');
    const currentPage = urlParts[1];

    const navigateToNotes = (event: React.MouseEvent<HTMLLIElement>) => {
        event.preventDefault();
        if (currentPage === "my_notes"){
            window.location.reload()
        }else{
            router.push('/my_notes');
        };
    };
    const navigateToConfig = (event: React.MouseEvent<HTMLLIElement>) => {
        event.preventDefault();
        if (currentPage === "my_account"){
            window.location.reload()
        }else{
            router.push('/my_account');
        };    
    };
    const logout = (event: React.MouseEvent<HTMLDivElement>) => {
        event.preventDefault();
        router.push('/')
    };

    return(
        <header className={`w-full ${props.mobleNavOpen ? "h-full":""} px-10 py-2.5 fixed z-40 flex flex-col gap-2 ${props.mobleNavOpen? "bg-titles_colour":"bg-body_bg"} items-center`}>
            <div className="w-full flex flex-row justify-between items-center">
                <Logo mobleNavOpen={props.mobleNavOpen}/>
                {props.children}
            </div>
            <div className={`w-full ${props.mobleNavOpen? "hidden":"flex flex-row justify-center items-center"} animate-fade-in-up`}>
                {
                    props.page_title&&(
                        <h1 className={`text-3xl font-sans font-light p-2 border-b-2 ${currentPage === "delete_my_account"? "text-alert_colour border-alert_colour":"text-placeholder border-placeholder"}`}>
                            {props.page_title}
                        </h1>
                    )
                }
            </div>

            <div className={`${props.mobleNavOpen ? "flex flex-col gap-40 pointer-events-auto cursor-pointer":"hidden pointer-events-none"} sm:hidden sm:pointer-events-none`}>
                <ul className={`${props.mobleNavOpen ? "w-full flex flex-col gap-2 justify-center items-center" : "hidden"} sm:hidden sm: pointer-events-none`}>
                    <li onClick={navigateToNotes} className={`${props.mobleNavOpen ? "flex flex-row gap-2 py-20 pointer-events-auto cursor-pointer text-white justify-center items-center":"hidden pointer-events-none"} sm:hidden sm:pointer-events-none`}>
                        <p className="font-sans font-light text-3xl">Notas</p>
                        <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9.375 19.6875C9.375 19.4389 9.47377 19.2004 9.64959 19.0246C9.8254 18.8488 10.0639 18.75 10.3125 18.75H14.0625C14.3111 18.75 14.5496 18.8488 14.7254 19.0246C14.9012 19.2004 15 19.4389 15 19.6875C15 19.9361 14.9012 20.1746 14.7254 20.3504C14.5496 20.5262 14.3111 20.625 14.0625 20.625H10.3125C10.0639 20.625 9.8254 20.5262 9.64959 20.3504C9.47377 20.1746 9.375 19.9361 9.375 19.6875ZM9.375 15.9375C9.375 15.6889 9.47377 15.4504 9.64959 15.2746C9.8254 15.0988 10.0639 15 10.3125 15H19.6875C19.9361 15 20.1746 15.0988 20.3504 15.2746C20.5262 15.4504 20.625 15.6889 20.625 15.9375C20.625 16.1861 20.5262 16.4246 20.3504 16.6004C20.1746 16.7762 19.9361 16.875 19.6875 16.875H10.3125C10.0639 16.875 9.8254 16.7762 9.64959 16.6004C9.47377 16.4246 9.375 16.1861 9.375 15.9375ZM9.375 12.1875C9.375 11.9389 9.47377 11.7004 9.64959 11.5246C9.8254 11.3488 10.0639 11.25 10.3125 11.25H19.6875C19.9361 11.25 20.1746 11.3488 20.3504 11.5246C20.5262 11.7004 20.625 11.9389 20.625 12.1875C20.625 12.4361 20.5262 12.6746 20.3504 12.8504C20.1746 13.0262 19.9361 13.125 19.6875 13.125H10.3125C10.0639 13.125 9.8254 13.0262 9.64959 12.8504C9.47377 12.6746 9.375 12.4361 9.375 12.1875ZM9.375 8.4375C9.375 8.18886 9.47377 7.9504 9.64959 7.77459C9.8254 7.59877 10.0639 7.5 10.3125 7.5H19.6875C19.9361 7.5 20.1746 7.59877 20.3504 7.77459C20.5262 7.9504 20.625 8.18886 20.625 8.4375C20.625 8.68614 20.5262 8.9246 20.3504 9.10041C20.1746 9.27623 19.9361 9.375 19.6875 9.375H10.3125C10.0639 9.375 9.8254 9.27623 9.64959 9.10041C9.47377 8.9246 9.375 8.68614 9.375 8.4375Z" className="fill-white"/>
                            <path d="M5.625 0H24.375C25.3696 0 26.3234 0.395088 27.0266 1.09835C27.7299 1.80161 28.125 2.75544 28.125 3.75V26.25C28.125 27.2446 27.7299 28.1984 27.0266 28.9016C26.3234 29.6049 25.3696 30 24.375 30H5.625C4.63044 30 3.67661 29.6049 2.97335 28.9016C2.27009 28.1984 1.875 27.2446 1.875 26.25V24.375H3.75V26.25C3.75 26.7473 3.94754 27.2242 4.29917 27.5758C4.65081 27.9275 5.12772 28.125 5.625 28.125H24.375C24.8723 28.125 25.3492 27.9275 25.7008 27.5758C26.0525 27.2242 26.25 26.7473 26.25 26.25V3.75C26.25 3.25272 26.0525 2.77581 25.7008 2.42417C25.3492 2.07254 24.8723 1.875 24.375 1.875H5.625C5.12772 1.875 4.65081 2.07254 4.29917 2.42417C3.94754 2.77581 3.75 3.25272 3.75 3.75V5.625H1.875V3.75C1.875 2.75544 2.27009 1.80161 2.97335 1.09835C3.67661 0.395088 4.63044 0 5.625 0Z" className="fill-white"/>
                            <path d="M1.875 9.375V8.4375C1.875 8.18886 1.97377 7.9504 2.14959 7.77459C2.3254 7.59877 2.56386 7.5 2.8125 7.5C3.06114 7.5 3.2996 7.59877 3.47541 7.77459C3.65123 7.9504 3.75 8.18886 3.75 8.4375V9.375H4.6875C4.93614 9.375 5.1746 9.47377 5.35041 9.64959C5.52623 9.8254 5.625 10.0639 5.625 10.3125C5.625 10.5611 5.52623 10.7996 5.35041 10.9754C5.1746 11.1512 4.93614 11.25 4.6875 11.25H0.9375C0.68886 11.25 0.450403 11.1512 0.274587 10.9754C0.0987721 10.7996 0 10.5611 0 10.3125C0 10.0639 0.0987721 9.8254 0.274587 9.64959C0.450403 9.47377 0.68886 9.375 0.9375 9.375H1.875ZM1.875 15V14.0625C1.875 13.8139 1.97377 13.5754 2.14959 13.3996C2.3254 13.2238 2.56386 13.125 2.8125 13.125C3.06114 13.125 3.2996 13.2238 3.47541 13.3996C3.65123 13.5754 3.75 13.8139 3.75 14.0625V15H4.6875C4.93614 15 5.1746 15.0988 5.35041 15.2746C5.52623 15.4504 5.625 15.6889 5.625 15.9375C5.625 16.1861 5.52623 16.4246 5.35041 16.6004C5.1746 16.7762 4.93614 16.875 4.6875 16.875H0.9375C0.68886 16.875 0.450403 16.7762 0.274587 16.6004C0.0987721 16.4246 0 16.1861 0 15.9375C0 15.6889 0.0987721 15.4504 0.274587 15.2746C0.450403 15.0988 0.68886 15 0.9375 15H1.875ZM1.875 20.625V19.6875C1.875 19.4389 1.97377 19.2004 2.14959 19.0246C2.3254 18.8488 2.56386 18.75 2.8125 18.75C3.06114 18.75 3.2996 18.8488 3.47541 19.0246C3.65123 19.2004 3.75 19.4389 3.75 19.6875V20.625H4.6875C4.93614 20.625 5.1746 20.7238 5.35041 20.8996C5.52623 21.0754 5.625 21.3139 5.625 21.5625C5.625 21.8111 5.52623 22.0496 5.35041 22.2254C5.1746 22.4012 4.93614 22.5 4.6875 22.5H0.9375C0.68886 22.5 0.450403 22.4012 0.274587 22.2254C0.0987721 22.0496 0 21.8111 0 21.5625C0 21.3139 0.0987721 21.0754 0.274587 20.8996C0.450403 20.7238 0.68886 20.625 0.9375 20.625H1.875Z" className="fill-white"/>
                        </svg>
                    </li>
                    <li onClick={navigateToConfig} className={`${props.mobleNavOpen ? "flex flex-row gap-2 pointer-events-auto cursor-pointer text-white justify-center items-center":"hidden pointer-events-none"} sm:hidden sm:pointer-events-none`}>
                        <p className="font-sans font-light text-3xl">Conta</p>
                        <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15.0001 8.91376C14.2008 8.91376 13.4094 9.07118 12.671 9.37705C11.9325 9.68291 11.2616 10.1312 10.6964 10.6964C10.1313 11.2615 9.68297 11.9325 9.37711 12.6709C9.07124 13.4093 8.91382 14.2007 8.91382 15C8.91382 15.7993 9.07124 16.5907 9.37711 17.3291C9.68297 18.0675 10.1313 18.7385 10.6964 19.3036C11.2616 19.8688 11.9325 20.3171 12.671 20.623C13.4094 20.9288 14.2008 21.0863 15.0001 21.0863C16.6142 21.0863 18.1623 20.445 19.3037 19.3036C20.4451 18.1622 21.0863 16.6142 21.0863 15C21.0863 13.3858 20.4451 11.8378 19.3037 10.6964C18.1623 9.55499 16.6142 8.91376 15.0001 8.91376ZM10.7888 15C10.7888 13.8831 11.2325 12.812 12.0223 12.0222C12.812 11.2324 13.8832 10.7888 15.0001 10.7888C16.117 10.7888 17.1881 11.2324 17.9779 12.0222C18.7676 12.812 19.2113 13.8831 19.2113 15C19.2113 16.1169 18.7676 17.188 17.9779 17.9778C17.1881 18.7676 16.117 19.2113 15.0001 19.2113C13.8832 19.2113 12.812 18.7676 12.0223 17.9778C11.2325 17.188 10.7888 16.1169 10.7888 15Z" className="fill-white"/>
                            <path d="M18.3673 2.51795C17.3792 -0.8383 12.6204 -0.8383 11.6323 2.51795L11.456 3.11608C11.387 3.35036 11.2665 3.56623 11.1032 3.74787C10.9399 3.92951 10.7381 4.07231 10.5124 4.1658C10.2868 4.25929 10.0431 4.3011 9.79921 4.28817C9.55532 4.27524 9.3174 4.2079 9.10292 4.09107L8.55542 3.79108C5.48042 2.11858 2.11854 5.48233 3.79292 8.55545L4.09104 9.10295C4.20787 9.31744 4.27521 9.55535 4.28814 9.79924C4.30107 10.0431 4.25926 10.2868 4.16577 10.5125C4.07228 10.7381 3.92948 10.94 3.74784 11.1032C3.5662 11.2665 3.35033 11.3871 3.11604 11.4561L2.51792 11.6323C-0.83833 12.6204 -0.83833 17.3792 2.51792 18.3673L3.11604 18.5436C3.35033 18.6126 3.5662 18.7331 3.74784 18.8964C3.92948 19.0597 4.07228 19.2615 4.16577 19.4872C4.25926 19.7128 4.30107 19.9565 4.28814 20.2004C4.27521 20.4443 4.20787 20.6822 4.09104 20.8967L3.79104 21.4442C2.11855 24.5192 5.48042 27.8829 8.55542 26.2067L9.10292 25.9086C9.3174 25.7918 9.55532 25.7244 9.79921 25.7115C10.0431 25.6985 10.2868 25.7404 10.5124 25.8339C10.7381 25.9273 10.9399 26.0701 11.1032 26.2518C11.2665 26.4334 11.387 26.6493 11.456 26.8836L11.6323 27.4817C12.6204 30.8379 17.3792 30.8379 18.3673 27.4817L18.5435 26.8836C18.6126 26.6493 18.7331 26.4334 18.8964 26.2518C19.0597 26.0701 19.2615 25.9273 19.4872 25.8339C19.7128 25.7404 19.9565 25.6985 20.2004 25.7115C20.4443 25.7244 20.6822 25.7918 20.8967 25.9086L21.4442 26.2086C24.5192 27.8829 27.8829 24.5173 26.2067 21.4442L25.9085 20.8967C25.7917 20.6822 25.7244 20.4443 25.7114 20.2004C25.6985 19.9565 25.7403 19.7128 25.8338 19.4872C25.9273 19.2615 26.0701 19.0597 26.2517 18.8964C26.4334 18.7331 26.6493 18.6126 26.8835 18.5436L27.4817 18.3673C30.8379 17.3792 30.8379 12.6204 27.4817 11.6323L26.8835 11.4561C26.6493 11.3871 26.4334 11.2665 26.2517 11.1032C26.0701 10.94 25.9273 10.7381 25.8338 10.5125C25.7403 10.2868 25.6985 10.0431 25.7114 9.79924C25.7244 9.55535 25.7917 9.31744 25.9085 9.10295L26.2085 8.55545C27.8829 5.48045 24.5173 2.11858 21.4442 3.79295L20.8967 4.09107C20.6822 4.2079 20.4443 4.27524 20.2004 4.28817C19.9565 4.3011 19.7128 4.25929 19.4872 4.1658C19.2615 4.07231 19.0597 3.92951 18.8964 3.74787C18.7331 3.56623 18.6126 3.35036 18.5435 3.11608L18.3673 2.51795ZM13.4304 3.04858C13.8917 1.48295 16.1079 1.48295 16.5692 3.04858L16.7454 3.6467C16.8936 4.14936 17.1524 4.61249 17.5028 5.00214C17.8532 5.39178 18.2864 5.69807 18.7706 5.89854C19.2547 6.09901 19.7776 6.18858 20.3009 6.16068C20.8242 6.13279 21.3347 5.98813 21.7948 5.73732L22.3404 5.43733C23.7729 4.6592 25.3404 6.22482 24.5604 7.6592L24.2623 8.2067C24.0119 8.66687 23.8676 9.17725 23.84 9.70043C23.8124 10.2236 23.9022 10.7463 24.1028 11.2303C24.3035 11.7143 24.6098 12.1472 24.9995 12.4974C25.3892 12.8476 25.8522 13.1062 26.3548 13.2542L26.951 13.4304C28.5167 13.8917 28.5167 16.108 26.951 16.5692L26.3529 16.7454C25.8503 16.8936 25.3871 17.1524 24.9975 17.5028C24.6078 17.8532 24.3015 18.2864 24.1011 18.7706C23.9006 19.2548 23.811 19.7777 23.8389 20.301C23.8668 20.8243 24.0115 21.3347 24.2623 21.7948L24.5623 22.3405C25.3404 23.7729 23.7748 25.3404 22.3404 24.5604L21.7948 24.2623C21.3345 24.0115 20.824 23.867 20.3006 23.8392C19.7772 23.8114 19.2542 23.9011 18.77 24.1018C18.2858 24.3025 17.8526 24.609 17.5023 24.9988C17.152 25.3887 16.8934 25.852 16.7454 26.3548L16.5692 26.9511C16.1079 28.5167 13.8917 28.5167 13.4304 26.9511L13.2542 26.3529C13.1059 25.8506 12.8472 25.3877 12.4969 24.9982C12.1466 24.6088 11.7137 24.3026 11.2297 24.1022C10.7458 23.9017 10.2231 23.8121 9.70005 23.8398C9.17697 23.8675 8.66672 24.0119 8.20667 24.2623L7.65917 24.5623C6.22667 25.3405 4.65917 23.7748 5.43917 22.3405L5.73729 21.7948C5.98845 21.3346 6.13339 20.824 6.16147 20.3005C6.18955 19.777 6.10006 19.2538 5.89956 18.7694C5.69907 18.285 5.39266 17.8516 5.00282 17.501C4.61297 17.1505 4.14959 16.8917 3.64667 16.7436L3.04854 16.5673C1.48292 16.1061 1.48292 13.8898 3.04854 13.4286L3.64667 13.2523C4.14881 13.104 4.61143 12.8453 5.00069 12.4952C5.38994 12.145 5.69598 11.7123 5.89639 11.2286C6.09681 10.7449 6.18654 10.2225 6.15901 9.69961C6.13148 9.17676 5.9874 8.66668 5.73729 8.2067L5.43729 7.6592C4.65917 6.2267 6.22479 4.6592 7.65917 5.4392L8.20667 5.73732C8.66672 5.98778 9.17697 6.13215 9.70005 6.15986C10.2231 6.18757 10.7458 6.09792 11.2297 5.89748C11.7137 5.69704 12.1466 5.39088 12.4969 5.00143C12.8472 4.61198 13.1059 4.1491 13.2542 3.6467L13.4304 3.04858Z" className="fill-white"/>
                        </svg>
                    </li>
                </ul>
                <LogoutButton handle_click={logout}/>
            </div>
            
        </header>
    )
};